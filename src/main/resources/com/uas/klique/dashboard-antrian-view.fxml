<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<AnchorPane prefWidth="832.0" xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.uas.klique.controller.DashboardAntrianController">

    <!-- Wrapper untuk center alignment -->
    <HBox alignment="CENTER">
        <VBox prefWidth="800.0" spacing="20" styleClass="dashboard-root">
            <!-- Judul -->
            <Text styleClass="page-title" text="Antrian" />
      
            <!-- Grid Statistik -->
            <GridPane fx:id="statGrid" hgap="20" vgap="20">
                <!-- Kotak 1: Antrian Terakhir Dipanggil -->
                <VBox styleClass="antrian-box" GridPane.columnIndex="0" GridPane.rowIndex="0">
                    <Label styleClass="stat-label" text="Nomor Antrian Terakhir Dipanggil" />
                    <Text fx:id="textTerakhirDipanggilNomor" styleClass="stat-value" text="—" />
                    <Text fx:id="textTerakhirDipanggilNama" styleClass="stat-subtitle" text="—" />
                </VBox>
      
                <!-- Kotak 2: Antrian Selanjutnya -->
                <VBox styleClass="antrian-box" GridPane.columnIndex="1" GridPane.rowIndex="0">
                    <Label styleClass="stat-label" text="Antrian Selanjutnya:" />
                    <Text fx:id="textAntrianSelanjutnya" styleClass="stat-value" text="—" />
                </VBox>
      
                <!-- Kotak 3: Panggil Antrian Selanjutnya -->
                <VBox styleClass="antrian-box" GridPane.columnIndex="2" GridPane.rowIndex="0">
                    <Button fx:id="btnPanggilSelanjutnya" onAction="#panggilAntrianSelanjutnya" styleClass="primary-button" text="Panggil Antrian Selanjutnya" />
                </VBox>
      
                <!-- Kotak 4: Antrian Terlewat -->
                <VBox styleClass="antrian-box" GridPane.columnIndex="3" GridPane.rowIndex="0">
                    <Label styleClass="stat-label" text="Antrian Terlewat:" />
                    <Text fx:id="textAntrianTerlewat" styleClass="stat-value" text="—" />
                </VBox>
      
                <!-- Kotak 5: Panggil Antrian Terlewat -->
                <VBox prefHeight="51.0" prefWidth="112.0" styleClass="antrian-box" GridPane.columnIndex="4" GridPane.rowIndex="0">
                 <Button fx:id="btnPanggilTerlewat" onAction="#panggilAntrianTerlewat" styleClass="secondary-button" text="Panggil Antrian Terlewat" />
                </VBox>

                <columnConstraints>
                    <ColumnConstraints />
                    <ColumnConstraints/>
                    <ColumnConstraints/>
                    <ColumnConstraints/>
                    <ColumnConstraints hgrow="ALWAYS" />
                </columnConstraints>
                <rowConstraints>
                    <RowConstraints />
                    <RowConstraints />
                </rowConstraints>
            </GridPane>

            <!-- Form Tambah Antrian -->
            <VBox spacing="5" style="-fx-padding: 0 0 5 0;">
            <Text styleClass="form-title" text="Tambah Antrian Baru" />
                <HBox prefHeight="120.0" prefWidth="800.0" spacing="10">
                    <!-- Kolom input nama pasien dan dokter -->
                    <VBox prefHeight="111.0" prefWidth="248.0" spacing="5" styleClass="form-group">
                        <Label text="Cari nama Pasien:" />
                        <TextField fx:id="fieldNamaPasien" promptText="Nama pasien..." />
                        <ListView fx:id="listPasienSuggestion" maxHeight="100" prefHeight="94.0" prefWidth="248.0" visible="false" />
                    </VBox>
                    <Button onAction="#tambahAntrian" prefHeight="48.0" styleClass="secondary-button" text="Tambahkan Antrian" />
                </HBox>
            </VBox>

            <!-- Tabel Antrian -->
            <VBox spacing="10">
                <Text styleClass="form-title" text="Data Antrian" />
                <HBox spacing="10">
                    <Label text="Cari Antrian:" />
                    <TextField fx:id="searchAntrianField" prefHeight="25.0" prefWidth="360.0" promptText="Nama pasien atau nomor antrian..." />
                </HBox>
                <TableView fx:id="tableAntrian" prefHeight="240.0" prefWidth="800.0">
                    <columns>
                        <TableColumn fx:id="colNo" prefWidth="40" text="No" />
                        <TableColumn fx:id="colNama" prefWidth="180" text="Nama Pengunjung" />
                        <TableColumn fx:id="colNomor" prefWidth="120" text="Nomor Antrian" />
                        <TableColumn fx:id="colStatus" prefWidth="120" text="Status" />
                        <TableColumn fx:id="colRuang" prefWidth="100" text="Ruang" />
                        <TableColumn fx:id="colAksi" prefWidth="150" text="Aksi" />
                    </columns>
                </TableView>
            </VBox>
        </VBox>
    </HBox>
</AnchorPane>
