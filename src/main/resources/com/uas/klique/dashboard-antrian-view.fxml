<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.Button?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ListView?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.ColumnConstraints?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.RowConstraints?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.text.Text?>

<BorderPane xmlns="http://javafx.com/javafx/23.0.1" xmlns:fx="http://javafx.com/fxml/1" fx:controller="com.uas.klique.controller.DashboardAntrianController">

    <center>
        <ScrollPane fitToHeight="true" fitToWidth="true">
            <VBox fx:id="mainContent" alignment="TOP_CENTER" spacing="20" styleClass="dashboard-root">

                <!-- Judul -->
                <Text styleClass="page-title" text="Antrian" />

                <!-- Grid Statistik -->
                <GridPane fx:id="statGrid" hgap="20" vgap="20">
                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>

                    <VBox styleClass="antrian-box" GridPane.columnIndex="0">
                        <Label styleClass="stat-label" text="Nomor Antrian Terakhir Dipanggil" />
                        <Text fx:id="textTerakhirDipanggilNomor" styleClass="stat-value" text="—" />
                        <Text fx:id="textTerakhirDipanggilNama" styleClass="stat-subtitle" text="—" />
                    </VBox>

                    <VBox styleClass="antrian-box" GridPane.columnIndex="1">
                        <Label styleClass="stat-label" text="Antrian Selanjutnya:" />
                        <Text fx:id="textAntrianSelanjutnya" styleClass="stat-value" text="—" />
                    </VBox>

                    <VBox styleClass="antrian-box" GridPane.columnIndex="2">
                        <Button fx:id="btnPanggilSelanjutnya" onAction="#panggilAntrianSelanjutnya" styleClass="primary-button" text="Panggil Antrian Selanjutnya" />
                    </VBox>

                    <VBox styleClass="antrian-box" GridPane.columnIndex="3">
                        <Label styleClass="stat-label" text="Antrian Terlewat:" />
                        <Text fx:id="textAntrianTerlewat" styleClass="stat-value" text="—" />
                    </VBox>

                    <VBox styleClass="antrian-box" GridPane.columnIndex="4">
                        <Button fx:id="btnPanggilTerlewat" onAction="#panggilAntrianTerlewat" styleClass="secondary-button" text="Panggil Antrian Terlewat" />
                    </VBox>
               <rowConstraints>
                  <RowConstraints />
               </rowConstraints>
                </GridPane>

                <!-- Form Tambah Antrian -->
                <VBox spacing="5">
                    <Text styleClass="form-title" text="Tambah Antrian Baru" />
                    <HBox spacing="10">
                        <VBox spacing="5" styleClass="form-group">
                            <Label text="Cari nama Pasien:" />
                            <TextField fx:id="fieldNamaPasien" prefHeight="25.0" prefWidth="400.0" promptText="Nama pasien..." />
                            <ListView fx:id="listPasienSuggestion" maxHeight="100" minHeight="50.0" visible="false" />
                        </VBox>
                        <Button onAction="#tambahAntrian" prefHeight="47.0" styleClass="secondary-button" text="Tambahkan Antrian" />
                    </HBox>
                </VBox>

                <!-- Tabel Antrian -->
                <VBox spacing="10">
                    <Text styleClass="form-title" text="Data Antrian" />
                    <HBox spacing="10">
                        <Label text="Cari Antrian:" />
                        <TextField fx:id="searchAntrianField" prefWidth="320.0" promptText="Nama pasien atau nomor antrian..." />
                    </HBox>
                    <TableView fx:id="tableAntrian" VBox.vgrow="ALWAYS">
                        <columns>
                            <TableColumn fx:id="colNo" text="No" />
                            <TableColumn fx:id="colNama" text="Nama Pengunjung" />
                            <TableColumn fx:id="colNomor" text="Nomor Antrian" />
                            <TableColumn fx:id="colStatus" text="Status" />
                            <TableColumn fx:id="colRuang" text="Ruang" />
                            <TableColumn fx:id="colAksi" text="Aksi" />
                        </columns>
                    </TableView>
                </VBox>

            </VBox>
        </ScrollPane>
    </center>

</BorderPane>
